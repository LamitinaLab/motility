# Analysis Outputs Guide

## Overview
This guide explains all the files generated by the C. elegans motility analysis pipeline and how to interpret them.

---

## Processed Data Files
**Location:** `Data/Processed/`

### 1. track_metrics.csv
Complete dataset with one row per track.

**Columns:**
- `date` - Date of acquisition
- `genotype` - Genotype/strain identifier
- `strain` - Strain name from metadata
- `video_id` - Video identifier (0001, 0002, etc.)
- `track_num` - Track number within video
- `track_id` - Unique identifier (genotype_video_track)
- `mean_speed` - Average speed (μm/s)
- `path_length` - Total distance traveled (μm)
- `displacement` - Straight-line distance start→end (μm)
- `straightness` - Displacement/path_length (0-1)
- `fatigue_index` - Late speed / early speed
- `n_frames` - Number of frames tracked
- `duration` - Recording duration (seconds)

**Use:** Import into statistical software, custom analysis, or visualization

---

### 2. thrashing_data.csv
Thrashing frequency for each track.

**Columns:**
- `date`, `genotype`, `strain`, `video_id`, `track_num`, `track_id` - Identifiers
- `thrashing_frequency_hz` - Oscillations per second

**Use:** Compare thrashing behavior between genotypes

---

### 3. normalized_tracks.csv
XY coordinates with all tracks starting at (0,0).

**Columns:**
- `Frame`, `Time` - Frame number and time (s)
- `X`, `Y` - Normalized coordinates (μm)
- `Speed` - Instantaneous speed (μm/s)
- `genotype` - Genotype identifier
- `track_id` - Unique track identifier

**Use:** 
- Overlay trajectory plots
- Custom visualizations
- Track-by-track analysis

---

## Results Files
**Location:** `results/`

### Summary Statistics (CSV files)

#### speed_group_summary.csv
**Columns:** genotype, mean, std, n, sem  
**Interpretation:** Mean ± SEM speed for each genotype

#### straightness_group_summary.csv
**Columns:** genotype, mean, std, n, sem  
**Interpretation:** Mean ± SEM straightness index for each genotype

#### fatigue_group_summary.csv
**Columns:** genotype, mean, std, n, sem  
**Interpretation:** Mean ± SEM fatigue index for each genotype

#### thrashing_group_summary.csv
**Columns:** genotype, mean, std, n, sem  
**Interpretation:** Mean ± SEM thrashing frequency for each genotype

---

### Pairwise Comparison Files (CSV)

#### speed_pairwise_tests.csv
**Columns:** group1, group2, test, statistic, p_value, significant  
**Interpretation:** 
- Each row = one comparison
- significant = "Yes" if p < 0.05
- Use for determining which genotypes differ significantly

*Similar files exist for straightness, fatigue, and thrashing*

---

### stats_summary.json
Complete statistical summary in JSON format.

**Structure:**
```json
{
  "analysis_date": "timestamp",
  "total_tracks_analyzed": number,
  "genotypes": [list],
  "speed_anova": {
    "f_statistic": number,
    "p_value": number
  },
  "group_summaries": {
    "speed": [...],
    "straightness": [...],
    "fatigue": [...],
    "thrashing": [...]
  }
}
```

**Use:** Machine-readable statistical results

---

## Figures
**Location:** `results/figures/`  
**Formats:** PNG (viewing) and PDF (publication)

### 1. mean_speed_comparison.*
Bar plot showing mean speed ± SEM for each genotype.
- Individual data points overlaid
- Sample sizes shown below x-axis

**Interpretation:** Higher bars = faster movement

---

### 2. straightness_comparison.*
Bar plot of straightness index (0-1).

**Interpretation:**
- Values near 1 = straight paths
- Lower values = more curved/exploratory paths

---

### 3. fatigue_comparison.*
Bar plot of fatigue index.
- Red dashed line at 1.0 = no change

**Interpretation:**
- < 1.0 = slowing down over time (fatigue)
- > 1.0 = speeding up over time
- = 1.0 = constant speed

---

### 4. thrashing_frequency_comparison.*
Bar plot of body oscillation frequency (Hz).

**Interpretation:** Higher frequency = more vigorous thrashing

---

### 5. track_trajectories_all.*
All tracks overlaid on single plot.
- Each genotype has different color
- All tracks start at origin (0,0)
- Red X marks origin

**Use:** Visualize overall movement patterns

---

### 6. track_trajectories_by_genotype.*
Separate panels for each genotype.

**Use:** Compare movement patterns within genotypes

---

### 7. summary_figure.*
Four-panel figure combining all metrics:
- Panel A: Speed
- Panel B: Straightness
- Panel C: Fatigue
- Panel D: Thrashing

**Use:** Comprehensive overview, ideal for presentations

---

## Archive Files
**Location:** `Data/Archive/archive_[timestamp]/`

### ANALYSIS_SUMMARY_REPORT.txt
Human-readable text report with:
- Data summary
- Mean ± SEM for all metrics
- List of archived files

**Use:** Quick reference of analysis results

---

### archive_manifest.json
Machine-readable inventory of archived files.

**Structure:**
```json
{
  "archive_info": {...},
  "data_summary": {...},
  "archived_files": {...},
  "notebooks": {...}
}
```

---

### README.md
Documentation for the archived dataset.
- Overview of analysis
- File descriptions
- Metrics explained
- Citation information

---

## How to Use These Outputs

### For Presentations
1. Use figures from `results/figures/`
2. Report statistics from `*_group_summary.csv` files
3. Cite p-values from `*_pairwise_tests.csv`

### For Publications
1. PDF figures for submission
2. Report mean ± SEM from summary CSVs
3. Include F-statistic and p-value from ANOVA
4. Report pairwise comparisons

### For Further Analysis
1. Import `track_metrics.csv` into R, Python, GraphPad, etc.
2. Use `normalized_tracks.csv` for custom visualizations
3. Filter by specific videos or dates

### For Data Sharing
1. Use archived directory (ZIP file)
2. Includes all data, results, and documentation
3. Self-contained and documented

---

## Interpreting Statistical Results

### Significance Levels
- p < 0.05: Significant (*)
- p < 0.01: Highly significant (**)
- p < 0.001: Very highly significant (***)

### Effect Sizes
Compare mean differences relative to SEM:
- Large separation between error bars → Strong effect
- Overlapping error bars → Weak or no effect

### Sample Sizes
Recommended minimums:
- n ≥ 5 tracks per genotype for basic comparisons
- n ≥ 10 tracks for robust statistics
- n ≥ 20 tracks for detecting small effects

---

## Common Questions

**Q: Which file should I cite in my paper?**
A: Use the summary CSVs for statistics and save figures as PDFs for publication.

**Q: Can I re-analyze with different statistical tests?**
A: Yes, load `track_metrics.csv` into your preferred software.

**Q: How do I share my results with collaborators?**
A: Send the ZIP file from the archive directory - it's self-contained.

**Q: What if I want different plots?**
A: Use `normalized_tracks.csv` or `track_metrics.csv` to create custom visualizations.

**Q: How do I know if my sample size is sufficient?**
A: Check the `n` column in summary files. Aim for n ≥ 10 per group.

---

## File Size Expectations

Typical file sizes (approximate):
- track_metrics.csv: 10-100 KB
- normalized_tracks.csv: 100 KB - 5 MB (depends on track count)
- thrashing_data.csv: 5-50 KB
- Figures (PNG): 200-500 KB each
- Figures (PDF): 50-200 KB each
- Archive ZIP: 1-20 MB (depends on data volume)

---

## Troubleshooting

**Empty CSV files**
→ No data was processed. Check raw data paths.

**Missing figures**
→ Ensure Notebook 02 completed without errors.

**Statistical tests show NaN**
→ Insufficient data or all values identical.

**Very high/low metrics**
→ Check units (should be μm and seconds). Verify WormLab export settings.

---

## Additional Resources

See also:
- README.md - Full pipeline documentation
- QUICK_START.md - Step-by-step usage guide
- WORKFLOW.md - Visual workflow diagram

For questions about specific metrics, refer to the analysis notebooks (01-03).
